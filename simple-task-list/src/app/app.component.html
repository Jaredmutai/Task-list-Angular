<h1>Task List with Filters</h1>

<!-- Input for adding tasks -->
<div>
  <input [(ngModel)]="newTask" placeholder="Enter a new task" />
  <button [disabled]="!newTask.trim()" (click)="addTask()">Add Task</button>
</div>

<!-- Search filter -->
<div>
  <input [(ngModel)]="searchTerm" placeholder="Search tasks" />
</div>

<!-- Task List with ngFor, ngIf, and pipes -->
<ul>
  <li *ngFor="let task of tasks; let i = index" [appHighlight]="task.text">
    {{ task.text }} 
    - Created: {{ task.createdAt | date:'medium' }} 
    - Cost: {{ task.cost | currency:'USD' }}
    <button (click)="deleteTask(i)">Delete</button>
  </li>
  <p *ngIf="tasks.length === 0">No tasks yet!</p>
</ul>

<!-- Filtered Task List (only shows matching tasks) -->
<h2>Filtered Tasks</h2>
<ul>
  <li *ngFor="let task of tasks | slice:0:tasks.length" 
      *ngIf="searchTerm === '' || task.text.toLowerCase().includes(searchTerm.toLowerCase())" 
      [appHighlight]="task.text">
    {{ task.text }} 
    - Created: {{ task.createdAt | date:'short' }} 
    - Cost: {{ task.cost | currency:'USD' }}
    <button (click)="deleteTask(tasks.indexOf(task))">Delete</button>
  </li>
  <p *ngIf="tasks.length > 0 && !(tasks | slice:0:tasks.length | filter:searchTerm).length">No matching tasks!</p>
</ul>